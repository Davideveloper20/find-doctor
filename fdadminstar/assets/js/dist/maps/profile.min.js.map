{"version":3,"sources":["profile.js"],"names":["moment","curLat","curLon","marker","geocoder","infoWindow","responses","geocodePosition","$","google","parseFloat","locate","initMap","val","lat","lon","console","lng","getScript","document","center","zoom","imgmarker","solstar","position","map","title","animation","p","draggable","Animation","icon","log","getPosition","obj","id","resp","autocomplete","ajaxRequest","err","alertify","locale","format","readURL","showClear","ignoreReadonly","allowInputToggle","initialCountry","localizedCountries","intlTelInput","customPlaceholder","separateDialCode"],"mappings":"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","file":"../profile.min.js","sourcesContent":["\"use strict\";\nmoment().locale('es');\n\nvar curLat = 0, curLon = 0, marker = false, map, infoWindow, geocoder;\n\nfunction geocodePosition(pos) {\n  geocoder.geocode({\n    latLng: pos\n  }, function(responses) {\n    if (responses && responses.length > 0) {\n      marker.formatted_address = responses[0].formatted_address;\n      $('#address').val(responses[0].formatted_address);\n    } else {\n      marker.formatted_address = 'Cannot determine address at this location.';\n      $('#address').val('Cannot determine address at this location.');\n    }\n  });\n}\n\nfunction toggleBounce() {\n  if (marker.getAnimation() !== null) {\n    marker.setAnimation(null);\n  } else {\n    marker.setAnimation(google.maps.Animation.BOUNCE);\n  }\n}\n\nfunction currGeo(locate) {\n  console.log('currGeo', locate);\n  curLat = parseFloat(locate.latitude);\n  curLon = parseFloat(locate.longitude);\n  if($('#latitude').val() == '') {\n    $('#latitude').val(curLat);\n  }\n  if($('#longitude').val() == '') {\n    $('#longitude').val(curLon);\n  }\n  $.getScript('https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyDg2Z6QWeOzf4FkS5ZYQx2Isw6efT90dHI&libraries=geometry&callback=initMap');\n};\n\nvar initMap = function () {\n  geocoder = new google.maps.Geocoder();\n  var lat = parseFloat($('#latitude').val() || curLat);\n  var lon = parseFloat($('#longitude').val() || curLon);\n  console.log('initMap', {lat: lat, lng:lon});\n  map = new google.maps.Map(document.getElementById('map'), {\n    center: new google.maps.LatLng(lat, lon),\n    zoom: 12\n  });\n  /*if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      var pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n\n      infoWindow.setPosition(pos);\n      infoWindow.setContent('Location found.');\n      infoWindow.open(map);\n      map.setCenter(pos);\n    }, function() {\n      handleLocationError(true, infoWindow, map.getCenter());\n    });\n  }*/\n  console.log('init marker');\n  var imgmarker = new google.maps.MarkerImage(\n    solstar.Almacen_fi+'assets/images/icon.png',\n    new google.maps.Size(71, 71),\n    new google.maps.Point(0, 0),\n    new google.maps.Point(17, 34),\n    new google.maps.Size(35, 35)\n  );\n\n  marker = new google.maps.Marker({\n    position: {lat: lat, lng: lon}, \n    map: map,\n    title: 'Estoy Aqui!',\n    draggable: true,\n    animation: google.maps.Animation.DROP,\n    icon: imgmarker,\n  });\n  \n  marker.addListener('click', toggleBounce);\n  google.maps.event.addListener(marker, 'dragend', function() {\n      console.log('Drag ended');\n      let p = marker.getPosition();\n      $('#latitude').val(p.lat());\n      $('#longitude').val(p.lng());\n      geocodePosition(p);\n  });\n};\n\n$(function(){\n  solstar.autocomplete($('#idcity', '#profile-form')[0], cities, $('#idcityval', '#profile-form')[0]);\n  solstar.autocomplete($('#idcountry', '#profile-form')[0], countries, $('#idcountryval', '#profile-form')[0], function(obj) {\n    console.log('autocomplete idcountry', obj)\n    var url = `getCities/${obj.id}`;\n    solstar.ajaxRequest(url, 'POST', function(resp) {\n        console.log(url, resp)\n        if(resp.success) {\n          solstar.autocomplete($('#idcity', '#profile-form')[0], resp.data, $('#idcityval', '#profile-form')[0]);\n        } else {\n          alertify.warning('Ha ocurrido un error! '+resp.message, 10);\n        }\n      }, {\n      }, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      }\n    );\n  });\n  $('#uploadThumb').on('change', function(evt) {\n      $.readURL(this, '#thumbnailPreview');\n  });\n  \n  $('.date').datetimepicker({\n      locale: 'es',\n      format: 'LT',\n      format: 'DD/MM/YYYY',\n      showTodayButton: true,\n      showClear: true,\n      ignoreReadonly: true,\n      allowInputToggle: false,\n  });\n\n  //$('.swicht').bootstrapToggle();\n  $('.intlTelInput').intlTelInput({\n      customPlaceholder: function(selectedCountryPlaceholder, selectedCountryData) {\n          return \"e.g. \" + selectedCountryPlaceholder;\n      },\n      initialCountry: 'CO',\n      localizedCountries: { 'CO': 'Colombia'},\n      onlyCountries: ['co'],\n      separateDialCode: true, \n  });\n\n  $('.intlTelInput').on('change', function(e) {\n      $($(this).data('telvalue')).val($(this).intlTelInput('getNumber'));\n  });//*/\n\n  $('#birthdate').on('click', function(evt) {\n      $('#birthdate-addon').click();\n  });\n  \n\n  $.getScript('https://get.geojs.io/v1/ip/geo.js?callback=currGeo');\n});"]}