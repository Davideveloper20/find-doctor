{"version":3,"sources":["formation.js"],"names":["moment","locale","$","format","showTodayButton","showClear","ignoreReadonly","data","institucion","descripcion","titulacion","$data","solstar","ajaxRequest","alertify","location","warning","resp","err","$this","success","console","log","html","show","backdrop","keyboard","id","cancel","text","btnClass","isHidden","action","delete","isDisabled"],"mappings":"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","file":"../formation.min.js","sourcesContent":["\"use strict\";\nmoment().locale('es');\n$(function(){\n  //solstar.autocomplete($('#idcity', '#profile-form')[0], cities, $('#idcityval', '#profile-form')[0]);\n  //$('#uploadThumb').on('change', function(evt) {\n      //$.readURL(this, '#thumbnailPreview');\n  //});\n  $('.date').datetimepicker({\n      locale: 'es',\n      format: 'LT',\n      format: 'DD/MM/YYYY',\n      showTodayButton: true,\n      showClear: true,\n      ignoreReadonly: true,\n      allowInputToggle: false,\n  });\n\n  $('#fecha').on('click', function(evt) {\n      $('#fecha-addon').click();\n  });\n\n  $('#modalDocEduc').on('show.bs.modal', function(e) {\n    \n  });\n\n  $('#modalDocEduc').on('hide.bs.modal', function(e) {\n    $('input, textarea','#modalDocEduc .modal-body').val('');\n    $('#modalDocEduc .modal-title').html('<i class=\"fa fa-plus fa-fw\"></i>Agregar Formación');\n    $('#modalDocEduc #saveFormation').html('<i class=\"fa fa-save\"></i> Guardar');\n    $('#modalDocEduc #saveFormation').data('type', 0);\n  });\n\n  $('#saveFormation').off('click').on('click', function(evt) {\n    $('#addFormation-frm').validate();\n    if($('#addFormation-frm').valid()) {\n      var $data = {\n        institucion: $('#modalDocEduc #institucion').val(),\n        titulacion: $('#modalDocEduc #titulacion').val(),\n        descripcion: $('#modalDocEduc #descripcion').val(),\n      };\n      if($('#modalDocEduc #saveFormation').data('type') == 1) {\n        $data.id = $('#modalDocEduc #saveFormation').data('reqid');\n      }\n      \n      solstar.ajaxRequest('Doctor/FormationSave', ($('#modalDocEduc #saveFormation').data('type') == 1 ? 'PUT': 'POST'), function(resp) {\n        if(resp.success) {\n          location.reload();\n        } else {\n          alertify.warning('Ha ocurrido un error! '+resp.message, 10);\n        }\n      }, $data, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      });\n    }\n  });\n\n  $('.editFormation').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.editFormation', $data);\n    solstar.ajaxRequest('Doctor/FormationSave', 'PATCH', function(resp) {\n        if(resp.success) {\n          console.log(resp)\n          console.log(resp.data.titulo)\n          console.log(resp.data.fecha)\n          console.log(resp.data.descripcion)\n          $('#modalDocEduc #saveFormation').data('type', 1);\n          $('#modalDocEduc #institucion').val(resp.data.institucion);\n          $('#modalDocEduc #titulacion').val(resp.data.titulacion);\n          $('#modalDocEduc #descripcion').val(resp.data.descripcion);\n          $('#modalDocEduc #saveFormation').data('reqid', resp.data.id);\n          $('#modalDocEduc .modal-title').html('<i class=\"fa fa-edit fa-fw\"></i> Editar Formación');\n          $('#modalDocEduc #saveFormation').html('<i class=\"fa fa-save\"></i> Guardar');\n          $('#modalDocEduc').modal({\n            show: true,\n            backdrop: 'static',\n            keyboard: false,\n          });\n        } else {\n          alertify.warning(resp.message, 10);\n        }\n      }, {id: ($data.id || -1 )}, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      }\n    );\n    \n  });\n\n  $('.deleteFormation').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.deleteFormation', $data)\n    solstar.jqc_alert('Eliminar Formación!','¿Confirma que desea eliminar este registro?','modern','fas fa-trash fa-1x', 'red', {\n      cancel: {\n        text: 'Cancelar', // text for button\n        btnClass: 'btn-secondary', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function(heyThereButton){\n            // longhand method to define a button\n            // provides more features\n        }\n      },\n      delete: {\n        text: 'Si, Eliminar!', // text for button\n        btnClass: 'btn-danger', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function() {\n          solstar.ajaxRequest('Doctor/FormationSave', 'DELETE', function(resp) {\n              if(resp.success) {\n                $('.formationCtn-'+($data.id || -1 )).remove();\n              } else {\n                alertify.warning(resp.message, 10);\n              }\n            }, {id: ($data.id || -1 )}, true, null, function(err) {\n              alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n            }\n          );\n        }\n      }\n    });\n  });\n\n});"]}