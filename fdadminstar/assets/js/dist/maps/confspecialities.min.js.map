{"version":3,"sources":["confspecialities.js"],"names":["moment","redrawDt","$","$this","console","$data","resp","ajaxRequest","solstar","success","val","data","show","backdrop","alertify","id","err","jqc_alert","cancel","text","btnClass","isDisabled","action","delete","speciality","on","tipo","descrip","el","json","i","ien","dataTableReq","redrawFunction","num","columns","columnDefs","url"],"mappings":"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","file":"../confspecialities.min.js","sourcesContent":["\"use strict\";\nmoment().locale('es');\n\nvar redrawDt = function(evt) {\n  $('#dtDatatable .editSpeciality').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.editSpeciality', $data);\n    solstar.ajaxRequest('SpecialitiesSave', 'PATCH', function(resp) {\n        if(resp.success) {\n          console.log(resp)\n          $('#modalDocEduc .modal-title').html('<i class=\"fa fa-edit fa-fw\"></i>Actualzar Consultorio');\n          $('#modalDocEduc #saveFormation').data('type', 1);\n          $('#modalDocEduc #saveFormation, #modalDocEduc').data('reqid', resp.data.id);\n          $('#modalDocEduc #speciality').val(resp.data.speciality);\n          $('#modalDocEduc #tipo').val(resp.data.tipo);\n          $('#modalDocEduc #descrip').val(resp.data.descrip);\n          $('#modalDocEduc #saveFormation').html('<i class=\"fa fa-save\"></i> Actaulizar');\n          $('#modalDocEduc').modal({\n            show: true,\n            backdrop: 'static',\n            keyboard: false,\n          });\n        } else {\n          alertify.warning(resp.message, 10);\n        }\n      }, {id: ($data.id || -1 )}, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      }\n    );\n  });\n\n  $('#dtDatatable .deleteSpeciality').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.deleteSpeciality', $data)\n    solstar.jqc_alert('Eliminar Especialidad!','Â¿Confirma que desea eliminar este registro?','modern','fas fa-trash fa-1x', 'red', {\n      cancel: {\n        text: 'Cancelar', // text for button\n        btnClass: 'btn-secondary', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function(heyThereButton){\n            // longhand method to define a button\n            // provides more features\n        }\n      },\n      delete: {\n        text: 'Si, Eliminar!', // text for button\n        btnClass: 'btn-danger', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function() {\n          solstar.ajaxRequest('SpecialitiesSave', 'DELETE', function(resp) {\n              if(resp.success) {\n                $('#dtDatatable').DataTable().ajax.reload();\n              } else {\n                alertify.warning(resp.message, 10);\n              }\n            }, {id: ($data.id || -1 )}, true, null, function(err) {\n              alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n            }\n          );\n        }\n      }\n    });\n  });\n};\n\n$(function(){\n  //solstar.autocomplete($('#idcity', '#modalDocEduc')[0], cities, $('#idcityval', '#modalDocEduc')[0]);\n\n  $('#modalDocEduc').on('hide.bs.modal', function(e) {\n    $('input, textarea','#modalDocEduc .modal-body').val('');\n    $('#modalDocEduc .modal-title').html('<i class=\"fa fa-plus fa-fw\"></i>Agregar Consultorio');\n    $('#modalDocEduc #saveFormation').html('<i class=\"fa fa-save\"></i> Guardar');\n    $('#modalDocEduc #saveFormation').data('type', 0);\n    $('#modalDocEduc #saveFormation, #modalDocEduc').data('reqid', '');\n  });\n\n  $('#modalDocEduc').on('show.bs.modal', function(e) {\n  });\n\n  $('#saveFormation').off('click').on('click', function(evt) {\n    $('#addSpeciality-frm').validate();\n    if($('#addSpeciality-frm').valid()) {\n      var $data = {\n        speciality: $('#modalDocEduc #speciality').val(),\n        tipo: $('#modalDocEduc #tipo').val(),\n        descrip: $('#modalDocEduc #descrip').val(),\n      };\n      if($('#modalDocEduc #saveFormation').data('type') == 1) {\n        $data.id = $('#modalDocEduc #saveFormation').data('reqid');\n      }\n      \n      solstar.ajaxRequest('SpecialitiesSave', ($('#modalDocEduc #saveFormation').data('type') == 1 ? 'PUT': 'POST'), function(resp) {\n        if(resp.success) {\n          //location.reload();\n          $('#dtDatatable').DataTable().ajax.reload();\n          $('#modalDocEduc').modal('hide');\n        } else {\n          alertify.warning('Ha ocurrido un error! '+resp.message, 10);\n        }\n      }, $data, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      });\n    }\n  });\n\n  var dT = solstar.dataTableReq({\n    el: \"#dtDatatable\",\n    dataSource: function ( json ) {\n      json = json.data;\n      for ( var i=0, ien=json.length ; i<ien ; i++ ) {\n        json[i].num = i+1;\n        json[i].actions = '<a href=\"javascript:void(\\''+json[i].id+'\\')\" class=\"btn btn-primary btn-sm mx-1 editSpeciality\" data-toggle=\"popover\" title=\"Editar\" data-content=\"'+json[i].speciality+'\" data-id=\"'+json[i].id+'\"><i class=\"fa fa-edit\"></i></a>';\n        json[i].actions+= '<a href=\"javascript:void(\\''+json[i].id+'\\')\" class=\"btn btn-danger btn-sm mx-1 deleteSpeciality\" data-toggle=\"popover\" title=\"Editar\" data-content=\"'+json[i].speciality+'\" data-id=\"'+json[i].id+'\"><i class=\"fa fa-trash\"></i></a>';\n      }\n      return json;\n    },\n    redrawFunction: redrawDt,\n    columnDefs: [ {\n      \"targets\": 0,\n      \"searchable\": false\n    }],\n    columns: [\n      {data: 'num'},\n      {data: 'speciality'},\n      {data: 'tipo'},\n      {data: 'descrip'},\n      {data: 'actions'},\n    ],\n    url: 'SpecialitiesSave',\n    typeMethod: 'GET',\n  });\n});"]}