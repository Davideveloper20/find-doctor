{"version":3,"sources":["specialities.js"],"names":["moment","locale","solstar","$","autocomplete","console","obj","idspeciality","speciality","specialitydes","$data","resp","location","alertify","err","log","ajaxRequest","show","backdrop","keyboard","id","warning","jqc_alert","cancel","$this","text","btnClass","isHidden","isDisabled","action","delete"],"mappings":"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","file":"../specialities.min.js","sourcesContent":["\"use strict\";\nmoment().locale('es');\n$(function(){\n  solstar.autocomplete($('#idspeciality', '#modalDocEduc')[0], specialities, $('#idspecialityval', '#modalDocEduc')[0], function(obj) {\n    console.log('ato', obj);\n    if(obj.id == '' || obj.id < 0) {\n      $('#modalDocEduc #specialityDes-cnt').fadeIn('swing');\n      $('#modalDocEduc #specialityDes-cnt .invalid-feedback').fadeIn('swing');\n      $('#modalDocEduc #specialityDes-cnt .textarea').attr('disabled', false);\n      $('#modalDocEduc #idspeciality').attr('required', true);\n      $('#modalDocEduc #idspecialityval').attr('required', false).val('');\n      $('#modalDocEduc #specialityDes-cnt #idspecialitydes').attr('required', true);\n    } else {\n      $('#modalDocEduc #specialityDes-cnt').fadeOut('swing');\n      $('#modalDocEduc #specialityDes-cnt .invalid-feedback').fadeOut('swing');\n      $('#modalDocEduc #specialityDes-cnt .textarea').attr('disabled', true);\n      $('#modalDocEduc #specialityDes-cnt .textarea').val('');\n      $('#modalDocEduc #idspeciality').attr('required', true);\n      $('#modalDocEduc #idspecialityval').attr('required', true).val(obj.id);\n      $('#modalDocEduc #specialityDes-cnt #idspecialitydes').attr('required', false);\n    }\n  }, false);\n  //$('#uploadThumb').on('change', function(evt) {\n      //$.readURL(this, '#thumbnailPreview');\n  //});\n  /*$('.date').datetimepicker({\n      locale: 'es',\n      format: 'LT',\n      format: 'DD/MM/YYYY',\n      showTodayButton: true,\n      showClear: true,\n      ignoreReadonly: true,\n      allowInputToggle: false,\n  });\n\n  $('#fecha').on('click', function(evt) {\n      $('#fecha-addon').click();\n  });//*/\n\n  $('#modalDocEduc').on('show.bs.modal', function(e) {\n    \n  });\n\n  $('#modalDocEduc').on('hide.bs.modal', function(e) {\n    $('input, textarea','#modalDocEduc .modal-body').val('');\n    $('#modalDocEduc .modal-title').html('<i class=\"fa fa-plus fa-fw\"></i>Agregar Especialidad');\n    $('#modalDocEduc #saveSpeciality').html('<i class=\"fa fa-save\"></i> Guardar');\n    $('#modalDocEduc #saveSpeciality').data('type', 0);\n  });\n\n  $('#saveSpeciality').off('click').on('click', function(evt) {\n    $('#addSpecial-frm').validate();\n    if($('#addSpecial-frm').valid()) {\n      var $data = {\n        idspeciality: $('#modalDocEduc #idspecialityval').val(),\n        speciality: $('#modalDocEduc #idspeciality').val(),\n        specialitydes: $('#modalDocEduc #idspecialitydes').val(),\n      };\n      if($('#modalDocEduc #saveSpeciality').data('type') == 1) {\n        $data.id = $('#modalDocEduc #saveSpeciality').data('reqid');\n      }\n      \n      solstar.ajaxRequest('Doctor/SpecialitiesSave', ($('#modalDocEduc #saveSpeciality').data('type') == 1 ? 'PUT': 'POST'), function(resp) {\n        if(resp.success) {\n          location.reload();\n        } else {\n          alertify.warning('Ha ocurrido un error! '+resp.message, 10);\n        }\n      }, $data, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      });\n    }\n  });\n\n  $('.editSpeciality').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.editSpeciality', $data);\n    solstar.ajaxRequest('Doctor/SpecialitiesSave', 'PATCH', function(resp) {\n        if(resp.success) {\n          console.log(resp)\n          $('#modalDocEduc #saveSpeciality').data('type', 1);\n          $('#modalDocEduc #idspeciality').val(resp.data.speciality);\n          $('#modalDocEduc #idspecialityval').val(resp.data.idspeciality);\n          $('#modalDocEduc #idspecialitydes').val(resp.data.descrip);\n          $('#modalDocEduc #saveSpeciality').data('reqid', resp.data.idspectdoc);\n          $('#modalDocEduc .modal-title').html('<i class=\"fa fa-edit fa-fw\"></i> Editar Especialidad');\n          $('#modalDocEduc #saveSpeciality').html('<i class=\"fa fa-save\"></i> Guardar');\n          $('#modalDocEduc').modal({\n            show: true,\n            backdrop: 'static',\n            keyboard: false,\n          });\n        } else {\n          alertify.warning(resp.message, 10);\n        }\n      }, {id: ($data.id || -1 )}, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      }\n    );\n    \n  });\n\n  $('.deleteSpeciality').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.deleteSpeciality', $data)\n    solstar.jqc_alert('Eliminar Especialidad!','Â¿Confirma que desea eliminar este registro?','modern','fas fa-trash fa-1x', 'red', {\n      cancel: {\n        text: 'Cancelar', // text for button\n        btnClass: 'btn-secondary', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function(heyThereButton){\n            // longhand method to define a button\n            // provides more features\n        }\n      },\n      delete: {\n        text: 'Si, Eliminar!', // text for button\n        btnClass: 'btn-danger', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function() {\n          solstar.ajaxRequest('Doctor/SpecialitiesSave', 'DELETE', function(resp) {\n              if(resp.success) {\n                $('.specialityCtn-'+($data.id || -1 )).remove();\n              } else {\n                alertify.warning(resp.message, 10);\n              }\n            }, {id: ($data.id || -1 )}, true, null, function(err) {\n              alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n            }\n          );\n        }\n      }\n    });\n  });\n\n});"]}