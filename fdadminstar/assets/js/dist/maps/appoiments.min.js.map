{"version":3,"sources":["appoiments.js"],"names":["$","minHeight","moment","locale","changeserv","console","obj","item","id","checked","i","html","txt","m","duration","solstar","log","optionCalBD","format","scheduler","document","Cancelar","event_id","date_to_str","delete_event","endLightbox","deleteEvent","ev","min","apment_date","fadeIn","show","name","serv_duration","type_doc","idstatus","amount","amount_prepaid","details","serv_amount","serv_amount_prepaid","end_date","val","backdrop","keyboard","focus","css","patienname","prepaid","start_at","start_date","newevent","add","lightbox_id","eventId","url","ajaxRequest","resp","alertify","extend","err","$doc","$tdoc","length","data","selam","$duration","inter","clcam","$prepaidstatus","prepaidstatus","config","hourSize","update_render","icons_select","start_on_monday","hour_date","hour_size_px","parseInt","prevent_cache","first_hour","last_hour","drag_in","drag_out","drag_resize","drag_move","limit_time_select","details_on_create","multi_day","scale_width","scale_height","templates","hour_scale","step","date","week_date_class","almacen","dp"],"mappings":"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","file":"../appoiments.min.js","sourcesContent":["\"use strict\";\n$(\"#myCalendardhxtml, #scheduler_here\").css({\n  minHeight: $(window).outerHeight() - 125\n});\nmoment().locale('es');\n$(function(){\n  var changeserv = function(obj) {\n    console.log('changeserv', obj);\n    $('#idserviceval').val(obj.item.id);\n    $('#idserviceval').data('id', obj.item.id);\n    $('#idserviceval').data('amount', obj.item.amount);\n    $('#idserviceval').data('selamount', obj.item.amount);\n    $('#idserviceval').data('amount-prepaid', obj.item.amount_prepaid);\n    $('#idserviceval').data('duration', obj.item.duration);\n    $('#prepaidstatus')[0].checked = false;\n    $('#service_amount').val(obj.item.amount);\n    $('#duration').html('<option value=\"0\">Seleccione...</option>');\n    for (var i = 1; i < 5; i++) {\n      let txt = obj.item.duration*i;\n      let m = moment(new Date(1986,5,17,0,0,0)).add(txt,'minutes').format((txt >= 60 ? 'hh:mm': 'mm'))+(txt >= 60 ? ' hora': ' minutos');\n      $('#duration').append(`<option value=\"${obj.item.duration*i}\">${m}</option>`);  \n    }\n  };\n  solstar.autocomplete($('#idservice', '#event_form')[0], docservices, $('#idserviceval', '#event_form')[0], changeserv);\n\n  console.log('optionCalBD', optionCalBD);\n\n  var html = function(id) { return document.getElementById(id); }; //just a helper\n  var format = scheduler.date.date_to_str(\"%H:%i\");\n  var delete_event = function (evt) {\n    solstar.jqc_alert('Eliminar Agendamiento!','Â¿Confirma que desea eliminar <b>DEFINITIVAMENTE</b> este agendamineto?','modern','fa fa-times', 'red', {\n        Cancelar: function(){},\n        \"Si, Eliminar!\": function() {\n          var event_id = scheduler.getState().lightbox_id;\n          scheduler.endLightbox(false, html(\"event_form\"));\n          scheduler.deleteEvent(event_id);\n          $('#event_form').modal('hide');\n        }\n      });\n    \n  }\n  scheduler.showLightbox = function(id) {\n    var ev = scheduler.getEvent(id);\n    scheduler.startLightbox(id, html(\"event_form\"));\n    console.log('showLightbox', ev);\n    $('#duration').val(0);\n    $('#patienname, #type_doc, #document, #idservice, #idserviceval, #details').val('');\n    if((typeof ev.apment_date) == 'undefined') {\n      $('#prepaidstatus')[0].checked = false;\n      $('#deleteAppoint').fadeOut();\n      $('#deleteAppoint').off('click');\n      $('#event_form #event_formtitle').html('Agendar Nueva Cita');\n      let min = moment(ev.start_date).minute();\n      if(min >=0 && min<15) min = 0;\n      else if(min >=15 && min<30) min = 15;\n      else if(min >=30 && min<45) min = 30;\n      else if(min >=45) min = 45;\n      ev.start_date.setMinutes(min);\n      $('#idserviceval').data('newevent', 1);\n      $('#stautacont').hide();\n      $('#status').val(1);\n    } else {\n      $('#idserviceval').data('newevent', 0);\n      $('#deleteAppoint').fadeIn();\n      $('#stautacont').show();\n      $('#deleteAppoint').off('click').on('click', delete_event);\n      $('#event_form #event_formtitle').html('Editar: '+ev.title);\n      $('#prepaidstatus')[0].checked = ev.prepaid == 1;\n      $('#patienname').val(ev.name);\n      $('#type_doc').val(ev.type_doc);\n      $('#status').val(ev.idstatus);\n      $('#document').val(ev.document);\n      $('#document').data('id', ev.idpatient);\n      $('#idservice').val(`${ev.service}, ${ev.serv_duration} minutos`);\n      $('#idserviceval').val(ev.idservice);\n      $('#details').val(ev.details);\n      changeserv({\n        item: {\n          id: ev.idservice,\n          amount: ev.serv_amount,\n          amount_prepaid: ev.serv_amount_prepaid,\n          duration: ev.serv_duration,\n        }\n      });\n      $('#duration').val(((ev.end_date-ev.start_date)/1000)/60);\n      $('#service_amount').val(ev.amount);\n    }\n    \n    $('#idserviceval').data('start_date', ev.start_date);\n    $('#apment_date').val(moment(ev.start_date).format('DD/MM/YYYY'));\n    $('#start_at').val(moment(ev.start_date).format('hh:mm A'));\n    $('#event_form').modal({\n      backdrop: 'static', \n      show: true,\n      keyboard: false,\n      focus: false,\n    });\n    $('#event_form').css('top', '0px !important');\n  };\n\n  $('#event_form #saveAppoint').on('click', function(evt) {\n    \n    var ev = scheduler.getEvent(scheduler.getState().lightbox_id);\n    ev.document = $('#document').val() || '';\n    ev.type_doc = $('#type_doc').val() || '';\n    ev.idpatient = $('#document').data('id') || '';\n    ev.patienname = $('#patienname').val() || '';\n    ev.name = $('#patienname').val() || '';\n    ev.idservice = $('#idserviceval').val() || '';\n    ev.prepaid = ($('#prepaidstatus')[0].checked ? 1 : 0) || 0;\n    ev.amount = $('#service_amount').val() || '0.00';\n    ev.duration = $('#duration').val() || '15';\n    ev.details = $('#details').val() || 'Ninguna';\n    var start_date = $('#idserviceval').data('start_date');\n    ev.apment_date = moment(start_date).format('YYYY-MM-DD');\n    ev.start_at = moment(start_date).format('HH:mm');\n    ev.end_at = moment(start_date).add(ev.duration, 'minutes').format('HH:mm');\n    ev.newevent = $('#idserviceval').data('newevent');\n    ev.status = ev.newevent== 1 ? '1':$('#status').val();\n    console.log(ev)\n    ev.start_date = moment(start_date).format('YYYY-MM-DD HH:mm');\n    ev.end_date = moment(start_date).add(ev.duration, 'minutes').format('YYYY-MM-DD HH:mm');\n    ev.apment_date= moment(start_date).format('YYYY-MM-DD');\n    var eventId = ev.id;\n    console.log('eventId', eventId);\n    let url = `Doctor/AppoinmentsSave${ev.newevent== 1 ? '': '/'+scheduler.getState().lightbox_id}` ;\n    solstar.ajaxRequest(url, (ev.newevent== 1 ? 'POST': 'PUT'), function(resp) {\n        if(resp.success) {\n          alertify.warning('Agendamiento '+(ev.newevent== 1 ? 'realizado': 'actualizado')+'!', 10);\n          resp.data.start_date = new Date(resp.data.start_date);\n          resp.data.end_date = new Date(resp.data.end_date);\n          ev.start_date = resp.data.start_date;\n          ev.end_date = resp.data.end_date;\n          $.extend(true, scheduler.getEvent(eventId), resp.data);\n          //scheduler.addEvent(resp.data);\n          scheduler.updateEvent(eventId);\n          console.log('resp.data', resp.data);\n          $('#event_form').modal('hide');\n          scheduler.endLightbox(true, $('#event_form')[0]);\n        } else {\n          alertify.warning(resp.message, 10);\n        }\n      }, ev, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      }\n    );\n  });\n\n  $('#event_form .closeModal').on('click', function(evt) {\n    $('#event_form').modal('hide');\n    scheduler.endLightbox(false, html(\"event_form\"));\n  });\n\n  $('#type_doc, #document').on('change', function(evt) {\n    var $doc = $('#document').val() || '';\n    var $tdoc = $('#type_doc').val() || '';\n    console.log('patient', $doc, $tdoc);\n    if($doc != '' && $tdoc != '') {\n      $('#patienname').val('');\n      $('#patienname').data('id', false);\n      solstar.ajaxRequest(`Patient/Search/${$tdoc}/${$doc}`, 'POST', function(resp) {\n          if(resp.success && resp.data.length > 0) {\n            $('#patienname').val(resp.data[0].name);\n            $('#patienname').data('id',resp.data[0].id);\n            $('#document').data('id',resp.data[0].id);\n          } else if(!resp.success) {\n            alertify.warning(resp.message, 10);\n          }\n        }, {\n        }, true, null, function(err) {\n          alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n        }\n      );\n    }\n  });\n\n  $('#duration').on('change', function(evt) {\n    var selam = 0;\n    if(this.checked) {\n      $('#idserviceval').data('selamount', $('#idserviceval').data('amount-prepaid'));\n      selam = $('#idserviceval').data('amount-prepaid');\n    } else {\n      $('#idserviceval').data('selamount', $('#idserviceval').data('amount'));\n      selam = $('#idserviceval').data('amount');\n    }\n    var $duration = $('#duration').val();\n    var inter = $('#idserviceval').data('duration');\n    var clcam = selam *($duration/inter);\n    console.log('duration', {\n      duration:$duration,\n      inter:inter,\n      selam:selam,\n      clcam:clcam,\n    });\n    $('#service_amount').val(clcam);\n  });\n\n  $('#prepaidstatus').on('change', function(evt) {\n    var selam = 0;\n    if(this.checked) {\n      $('#idserviceval').data('selamount', $('#idserviceval').data('amount-prepaid'));\n      selam = $('#idserviceval').data('amount-prepaid');\n    } else {\n      $('#idserviceval').data('selamount', $('#idserviceval').data('amount'));\n      selam = $('#idserviceval').data('amount');\n    }\n    var $prepaidstatus = $('#prepaidstatus').val();\n    console.log('prepaidstatus', $prepaidstatus, this.checked);\n    var $duration = $('#duration').val();\n    var inter = $('#idserviceval').data('duration');\n    var clcam = selam *($duration/inter);\n    console.log('prepaidstatus', {\n      prepaidstatus: this.checked,\n      duration:$duration,\n      inter:inter,\n      selam:selam,\n      clcam:clcam,\n    });\n    $('#service_amount').val(clcam);\n  });\n  var hourSize = 170;\n  $.extend(true, scheduler, {\n    config: {\n      //readonly: true,\n      icons_select: [\"icon_edit\",\"icon_details\",\"icon_delete\"],\n      update_render: true,\n      start_on_monday : false,\n      hour_date:\"%h:%i %A\",\n      hour_size_px: hourSize,\n      prevent_cache: true,\n      first_hour: parseInt((optionCalBD.profile.time_start.split(':')[0] || '8')),\n      last_hour: parseInt((optionCalBD.profile.time_end.split(':')[0] || '17')),\n      drag_in: false,\n      drag_out: false,\n      drag_resize: false,\n      drag_move: false,\n      limit_time_select: true,\n      details_on_create: true,\n      details_on_dblclick: true,\n      multi_day: true,\n    },\n    xy: {\n      scale_width: 70,\n      scale_height: 40,\n      //nav_height:0,\n    },\n    templates: {\n      hour_scale: function(date) {\n        var step = 15;\n        var html = \"\";\n        var r = hourSize/(60/step);\n        for (var i=0; i<60/step; i++){\n          html += \"<div style='height:\"+r+\"px;line-height:\"+r+\"px;'>\"+format(date)+\"</div>\";\n          date = scheduler.date.add(date, step, \"minute\");\n        }\n        return html;\n      },\n      week_date_class: function(date,today) {\n        return \"custom_color\";  \n      }\n    }\n  });\n\n  scheduler.init('scheduler_here',new Date(),\"week\");\n  scheduler.load(`${almacen}Doctor/AppoinmentsList`, function(){\n        //scheduler.showLightbox(2);\n      });\n  var dp = new dataProcessor(`${almacen}Doctor/AppoinmentsSave`);\n  dp.init(scheduler);\n  dp.setTransactionMode(\"REST\", false);\n});"]}