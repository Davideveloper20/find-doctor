{"version":3,"sources":["goals.js"],"names":["moment","locale","$","format","showTodayButton","showClear","ignoreReadonly","titulo","description","fecha","$data","solstar","ajaxRequest","alertify","location","warning","resp","err","$this","success","console","log","show","backdrop","keyboard","id","cancel","text","btnClass","isHidden","isDisabled","action"],"mappings":"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","file":"../goals.min.js","sourcesContent":["\"use strict\";\nmoment().locale('es');\n$(function(){\n  //solstar.autocomplete($('#idcity', '#profile-form')[0], cities, $('#idcityval', '#profile-form')[0]);\n  //$('#uploadThumb').on('change', function(evt) {\n      //$.readURL(this, '#thumbnailPreview');\n  //});\n  $('.date').datetimepicker({\n      locale: 'es',\n      format: 'LT',\n      format: 'DD/MM/YYYY',\n      showTodayButton: true,\n      showClear: true,\n      ignoreReadonly: true,\n      allowInputToggle: false,\n  });\n\n  $('#fecha').on('click', function(evt) {\n      $('#fecha-addon').click();\n  });\n\n  $('#modalDocGoal').on('show.bs.modal', function(e) {\n    \n  });\n\n  $('#modalDocGoal').on('hide.bs.modal', function(e) {\n    $('input, textarea','#modalDocGoal .modal-body').val('');\n    $('#modalDocGoal .modal-title').html('<i class=\"fa fa-plus fa-fw\"></i>Agregar Logro');\n    $('#modalDocGoal #saveGoal').html('<i class=\"fa fa-save\"></i> Guardar');\n    $('#modalDocGoal #saveGoal').data('type', 0);\n  });\n\n  $('#saveGoal').off('click').on('click', function(evt) {\n    $('#addGoal-frm').validate();\n    if($('#addGoal-frm').valid()) {\n      var $data = {\n        titulo: $('#modalDocGoal #titulo').val(),\n        fecha: $('#modalDocGoal #fecha').val(),\n        description: $('#modalDocGoal #description').val(),\n      };\n      if($('#modalDocGoal #saveGoal').data('type') == 1) {\n        $data.id = $('#modalDocGoal #saveGoal').data('reqid');\n      }\n      \n      solstar.ajaxRequest('Doctor/GoalSave', ($('#modalDocGoal #saveGoal').data('type') == 1 ? 'PUT': 'POST'), function(resp) {\n        if(resp.success) {\n          location.reload();\n        } else {\n          alertify.warning('Ha ocurrido un error! '+resp.message, 10);\n        }\n      }, $data, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      });\n    }\n  });\n\n  $('.editGoal').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.editGoal', $data);\n    solstar.ajaxRequest('Doctor/GoalSave', 'PATCH', function(resp) {\n        if(resp.success) {\n          console.log(resp)\n          console.log(resp.data.titulo)\n          console.log(resp.data.fecha)\n          console.log(resp.data.descripcion)\n          $('#modalDocGoal #saveGoal').data('type', 1);\n          $('#modalDocGoal #titulo').val(resp.data.titulo);\n          $('#modalDocGoal #fecha').val(resp.data.fecha);\n          $('#modalDocGoal #description').val(resp.data.descripcion);\n          $('#modalDocGoal #saveGoal').data('reqid', resp.data.id);\n          $('#modalDocGoal').modal({\n            show: true,\n            backdrop: 'static',\n            keyboard: false,\n          });\n        } else {\n          alertify.warning(resp.message, 10);\n        }\n      }, {id: ($data.id || -1 )}, true, null, function(err) {\n        alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n      }\n    );\n    $('#modalDocGoal .modal-title').html('<i class=\"fa fa-edit fa-fw\"></i> Editar Logro');\n    $('#modalDocGoal #saveGoal').html('<i class=\"fa fa-save\"></i> Guardar');\n  });\n\n  $('.deleteGoal').off('click').on('click', function(evt) {\n    var $this = $(this);\n    var $data = $this.data();\n    console.log('.deleteGoal', $data)\n    solstar.jqc_alert('Eliminar Logro!','Â¿Confirma que desea eliminar este registro?','modern','fas fa-trash fa-1x', 'red', {\n      cancel: {\n        text: 'Cancelar', // text for button\n        btnClass: 'btn-secondary', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function(heyThereButton){\n            // longhand method to define a button\n            // provides more features\n        }\n      },\n      delete: {\n        text: 'Si, Eliminar!', // text for button\n        btnClass: 'btn-danger', // class for the button\n        //keys: ['enter', 'a'], // keyboard event for button\n        isHidden: false, // initially not hidden\n        isDisabled: false, // initially not disabled\n        action: function() {\n          solstar.ajaxRequest('Doctor/GoalSave', 'DELETE', function(resp) {\n              if(resp.success) {\n                $('.goalDocCnt-'+($data.id || -1 )).remove();\n              } else {\n                alertify.warning(resp.message, 10);\n              }\n            }, {id: ($data.id || -1 )}, true, null, function(err) {\n              alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n            }\n          );\n        }\n      }\n    });\n  });\n});"]}