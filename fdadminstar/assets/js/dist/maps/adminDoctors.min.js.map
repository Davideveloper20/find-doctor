{"version":3,"sources":["adminDoctors.js"],"names":["moment","locale","$","extend","doctorChangeStatus","$check","console","solstar","$this","Cancelar","resp","checked","alertify","warning","message","err","url","almacen","method","json","data","fullname","titulo","i","profileimage","satatuschoice","parseInt","columns","class"],"mappings":"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","file":"../adminDoctors.min.js","sourcesContent":["\"use strict\";\nmoment().locale('es');\n$(function(){\n  $.extend(true, $.fn, {\n    doctorChangeStatus: function(evt) {\n      var $check = this[0].checked;\n      var $this = this[0];\n\n      console.log('doctorChangeStatus', this, $(this).data());\n      console.log('doctorChangeStatus 2', $this, $check, evt);\n      solstar.jqc_alert('Cambio de Estatus!','Â¿Confirma que desea cambiar a status <b>'+($this.checked ? 'Activo': 'Inactivo')+'</b> este doctor?','modern',($this.checked ? 'fas fa-toggle-on': 'fas fa-toggle-off')+' fa-1x', ($this.checked ? 'blue': 'red'), {\n        Cancelar: function(){$this.checked = !$check;},\n        \"Si, Cambiar!\": function() {\n          solstar.ajaxRequest(`Admin/DoctorsChgStatus/${$check?1:0}`, 'POST', function(resp) {\n              if(resp.success) {\n                \n              } else {\n                $this.checked = !$check;\n                alertify.warning(resp.message, 10);\n              }\n            }, $($this).data(), true, null, function(err) {\n              $this.checked = !$check;\n              alertify.warning('Ha ocurrido un error! '+(err.message || ''), 10);\n            }\n          );\n        }\n      });\n    }\n  });\n  \n  $(\"#dtDatatable\").dataTable({\n    ajax: {\n      url: solstar.params.almacen+'Admin/Doctors',\n      method: \"POST\",\n      \"dataSrc\": function ( data ) {\n        var json = data.data;\n        //console.log('dataSrc', json)\n        for ( var i=0, ien=json.length ; i<ien ; i++ ) {\n          json[i].number = i+1;\n          json[i].fullname = json[i].titulo + ' '+json[i].fullname;\n          json[i].contacto = '<i class=\"fas fa-mobile-alt\"></i>: '+(json[i].phonenumber || '') + '<hr><i class=\"fas fa-at\"></i>: '+(json[i].email || '');\n          json[i].document = '<i class=\"far fa-id-card\"></i>: <b>'+(json[i].type_docabrev || '') + '</b>'+(json[i].document || '') + '<hr><i class=\"fas fa-id-card-alt\"></i> <b>ReTHUS:</b>'+(json[i].rethus || '');\n          json[i].profileimage = '<img src=\"'+(json[i].profileimage || 'assets/images/icon.png') + '\" class=\"img img-responsive img-fluid profimg\" style=\"width:80px;\"/>';\n\n          json[i].satatuschoice = '<label class=\"custom-switch mt-1\"><span class=\"custom-switch-description\"></span><input type=\"checkbox\" id=\"doctorstaus'+json[i].iddoctor+'\" data-iddoctor=\"'+json[i].iddoctor+'\" data-idusers=\"'+json[i].idusers+'\" name=\"doctorstaus'+json[i].iddoctor+'\" '+(parseInt(json[i].idstatus) == 1 ? 'checked' : '')+' class=\"custom-switch-input doctorChangeStatus\"><span class=\"custom-switch-indicator\"></span></label>';\n          json[i].actions = '';\n          //console.log(json[i])\n        }\n        return json;\n      }\n    },\n    \"bSort\": false,\n    columns: [\n        { data: \"number\", class: \"dt-center text-right\" },\n        { data: \"profileimage\", class: \"dt-center text-center\"  },\n        { data: \"fullname\", class: \"dt-center text-left\"  },\n        { data: \"document\", class: \"dt-center text-left\" },\n        { data: \"contacto\", class: \"dt-center text-left\" },\n        { data: \"especiality\", class: \"dt-center text-left\" },\n        { data: \"satatuschoice\", class: \"dt-center text-left\" },\n        { data: \"actions\", class: \"dt-center text-center\" },\n    ],\n    \"columnDefs\": [\n      //{ \"sortable\": false, \"targets\": [2,3] }\n    ]\n  })\n  .on( 'preDraw', function () {\n  })\n  .on( 'draw.dt', function () {\n    $('.doctorChangeStatus').off('change').on('change', function(evt) {\n        $(this).doctorChangeStatus(evt);\n    });\n  })\n  .on( 'page.dt', function () {\n    $('.doctorChangeStatus').off('change').on('change', function(evt) {\n        $(this).doctorChangeStatus(evt);\n    });\n  });\n\n});"]}