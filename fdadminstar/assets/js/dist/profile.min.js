"use strict";moment().locale("es");var map,infoWindow,geocoder,curLat=0,curLon=0,marker=!1;function geocodePosition(a){geocoder.geocode({latLng:a},function(a){a&&0<a.length?(marker.formatted_address=a[0].formatted_address,$("#address").val(a[0].formatted_address)):(marker.formatted_address="Cannot determine address at this location.",$("#address").val("Cannot determine address at this location."))})}function toggleBounce(){null===marker.getAnimation()?marker.setAnimation(google.maps.Animation.BOUNCE):marker.setAnimation(null)}function currGeo(a){console.log("currGeo",a),curLat=parseFloat(a.latitude),curLon=parseFloat(a.longitude),""==$("#latitude").val()&&$("#latitude").val(curLat),""==$("#longitude").val()&&$("#longitude").val(curLon),$.getScript("https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyDg2Z6QWeOzf4FkS5ZYQx2Isw6efT90dHI&libraries=geometry&callback=initMap")}var initMap=function(){geocoder=new google.maps.Geocoder;var a=parseFloat($("#latitude").val()||curLat),b=parseFloat($("#longitude").val()||curLon);console.log("initMap",{lat:a,lng:b}),map=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(a,b),zoom:12}),console.log("init marker");var c=new google.maps.MarkerImage(solstar.Almacen_fi+"assets/images/icon.png",new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(35,35));marker=new google.maps.Marker({position:{lat:a,lng:b},map:map,title:"Estoy Aqui!",draggable:!0,animation:google.maps.Animation.DROP,icon:c}),marker.addListener("click",toggleBounce),google.maps.event.addListener(marker,"dragend",function(){console.log("Drag ended");let a=marker.getPosition();$("#latitude").val(a.lat()),$("#longitude").val(a.lng()),geocodePosition(a)})};$(function(){solstar.autocomplete($("#idcity","#profile-form")[0],cities,$("#idcityval","#profile-form")[0]),solstar.autocomplete($("#idcountry","#profile-form")[0],countries,$("#idcountryval","#profile-form")[0],function(a){console.log("autocomplete idcountry",a);var b=`getCities/${a.id}`;solstar.ajaxRequest(b,"POST",function(a){console.log(b,a),a.success?solstar.autocomplete($("#idcity","#profile-form")[0],a.data,$("#idcityval","#profile-form")[0]):alertify.warning("Ha ocurrido un error! "+a.message,10)},{},!0,null,function(a){alertify.warning("Ha ocurrido un error! "+(a.message||""),10)})}),$("#uploadThumb").on("change",function(){$.readURL(this,"#thumbnailPreview")}),$(".date").datetimepicker({locale:"es",format:"LT",format:"DD/MM/YYYY",showTodayButton:!0,showClear:!0,ignoreReadonly:!0,allowInputToggle:!1}),$(".intlTelInput").intlTelInput({customPlaceholder:function(a){return"e.g. "+a},initialCountry:"CO",localizedCountries:{CO:"Colombia"},onlyCountries:["co"],separateDialCode:!0}),$(".intlTelInput").on("change",function(){$($(this).data("telvalue")).val($(this).intlTelInput("getNumber"))}),$("#birthdate").on("click",function(){$("#birthdate-addon").click()}),$.getScript("https://get.geojs.io/v1/ip/geo.js?callback=currGeo")});
//# sourceMappingURL=maps/profile.min.js.map
